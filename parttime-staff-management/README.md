# â˜• Coffee House - Há»‡ Thá»‘ng Quáº£n LÃ½ NhÃ¢n ViÃªn BÃ¡n Thá»i Gian

Há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n viÃªn bÃ¡n thá»i gian cho chuá»—i quÃ¡n cÃ  phÃª, há»— trá»£ quáº£n lÃ½ ca lÃ m viá»‡c, phÃ¢n cÃ´ng nhÃ¢n viÃªn, tÃ­nh lÆ°Æ¡ng vÃ  chá»£ ca (marketplace) Ä‘á»ƒ trao Ä‘á»•i ca giá»¯a cÃ¡c nhÃ¢n viÃªn.

![Coffee House](https://img.shields.io/badge/Coffee%20House-Management-brown?style=for-the-badge&logo=coffeescript)
![React](https://img.shields.io/badge/React-18-61DAFB?style=flat-square&logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=flat-square&logo=typescript)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2-6DB33F?style=flat-square&logo=springboot)
![Java](https://img.shields.io/badge/Java-17-ED8B00?style=flat-square&logo=java)
![MySQL](https://img.shields.io/badge/MySQL-8-4479A1?style=flat-square&logo=mysql)

## ğŸ“‹ Má»¥c Lá»¥c

- [Tá»•ng Quan](#-tá»•ng-quan)
- [TÃ­nh NÄƒng](#-tÃ­nh-nÄƒng)
- [CÃ´ng Nghá»‡](#-cÃ´ng-nghá»‡)
- [YÃªu Cáº§u Há»‡ Thá»‘ng](#-yÃªu-cáº§u-há»‡-thá»‘ng)
- [CÃ i Äáº·t](#-cÃ i-Ä‘áº·t)
- [Cáº¥u HÃ¬nh](#-cáº¥u-hÃ¬nh)
- [Cháº¡y á»¨ng Dá»¥ng](#-cháº¡y-á»©ng-dá»¥ng)
- [TÃ i Khoáº£n Demo](#-tÃ i-khoáº£n-demo)
- [API Documentation](#-api-documentation)
- [Cáº¥u TrÃºc Dá»± Ãn](#-cáº¥u-trÃºc-dá»±-Ã¡n)
- [Troubleshooting](#-troubleshooting)
- [ÄÃ³ng GÃ³p](#-Ä‘Ã³ng-gÃ³p)

## ğŸ¯ Tá»•ng Quan

Há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n viÃªn bÃ¡n thá»i gian Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ há»— trá»£ chuá»—i quÃ¡n cÃ  phÃª quáº£n lÃ½:
- **NhÃ¢n viÃªn**: Quáº£n lÃ½ thÃ´ng tin, phÃ¢n cÃ´ng ca lÃ m viá»‡c
- **Ca lÃ m viá»‡c**: Táº¡o lá»‹ch ca, phÃ¢n cÃ´ng nhÃ¢n viÃªn, check-in/check-out
- **Chá»£ Ca (Marketplace)**: Cho phÃ©p nhÃ¢n viÃªn nhÆ°á»ng/nháº­n/Ä‘á»•i ca vá»›i nhau
- **TÃ­nh lÆ°Æ¡ng**: Tá»± Ä‘á»™ng tÃ­nh lÆ°Æ¡ng dá»±a trÃªn giá» lÃ m viá»‡c
- **Nhiá»‡m vá»¥**: Giao vÃ  theo dÃµi nhiá»‡m vá»¥ cho nhÃ¢n viÃªn
- **YÃªu cáº§u**: Xá»­ lÃ½ yÃªu cáº§u nghá»‰/Ä‘á»•i ca tá»« nhÃ¢n viÃªn
- **BÃ¡o cÃ¡o**: BÃ¡o cÃ¡o chi phÃ­ nhÃ¢n sá»±, thá»‘ng kÃª hoáº¡t Ä‘á»™ng

## âœ¨ TÃ­nh NÄƒng

### ğŸ‘¤ Owner (Chá»§ Sá»Ÿ Há»¯u)
- âœ… Dashboard tá»•ng quan toÃ n há»‡ thá»‘ng
- âœ… Quáº£n lÃ½ cÆ¡ sá»Ÿ (CRUD stores)
- âœ… Quáº£n lÃ½ Manager vÃ  Staff toÃ n há»‡ thá»‘ng
- âœ… Xem & phÃª duyá»‡t báº£ng lÆ°Æ¡ng toÃ n há»‡ thá»‘ng
- âœ… BÃ¡o cÃ¡o chi phÃ­ nhÃ¢n sá»± theo thÃ¡ng/cÆ¡ sá»Ÿ
- âœ… GiÃ¡m sÃ¡t Chá»£ Ca toÃ n bá»™ cÆ¡ sá»Ÿ
- âœ… Gá»­i thÃ´ng bÃ¡o toÃ n há»‡ thá»‘ng
- âœ… Xem báº£ng xáº¿p háº¡ng nhÃ¢n viÃªn
- âœ… Xá»­ lÃ½ khiáº¿u náº¡i

### ğŸ‘¨â€ğŸ’¼ Manager (Quáº£n LÃ½)
- âœ… Dashboard cÆ¡ sá»Ÿ Ä‘Æ°á»£c giao quáº£n lÃ½
- âœ… Quáº£n lÃ½ nhÃ¢n viÃªn thuá»™c cÆ¡ sá»Ÿ
- âœ… Táº¡o vÃ  quáº£n lÃ½ lá»‹ch lÃ m viá»‡c (3 ca/ngÃ y: SÃ¡ng, Chiá»u, Tá»‘i)
- âœ… PhÃ¢n cÃ´ng nhÃ¢n viÃªn vÃ o ca (tá»‘i Ä‘a 3 nhÃ¢n viÃªn/ca)
- âœ… Duyá»‡t yÃªu cáº§u nghá»‰/Ä‘á»•i ca tá»« nhÃ¢n viÃªn
- âœ… Táº¡o vÃ  theo dÃµi nhiá»‡m vá»¥ cho nhÃ¢n viÃªn
- âœ… Quáº£n lÃ½ Chá»£ Ca (duyá»‡t nhÆ°á»ng/nháº­n ca)
- âœ… TÃ­nh lÆ°Æ¡ng nhÃ¢n viÃªn thuá»™c cÆ¡ sá»Ÿ
- âœ… Cháº¥m cÃ´ng thá»§ cÃ´ng (náº¿u cáº§n)
- âœ… Xem bÃ¡o cÃ¡o cÆ¡ sá»Ÿ

### ğŸ‘· Staff (NhÃ¢n ViÃªn)
- âœ… Dashboard cÃ¡ nhÃ¢n vá»›i ca lÃ m & nhiá»‡m vá»¥
- âœ… XÃ¡c nháº­n/tá»« chá»‘i ca Ä‘Æ°á»£c phÃ¢n cÃ´ng
- âœ… Check-in/Check-out ca lÃ m viá»‡c
- âœ… Gá»­i yÃªu cáº§u nghá»‰/Ä‘á»•i ca
- âœ… **Chá»£ Ca**: 
  - ÄÄƒng nhÆ°á»ng ca
  - Nháº­n ca trá»‘ng
  - YÃªu cáº§u Ä‘á»•i ca vá»›i nhÃ¢n viÃªn khÃ¡c
- âœ… Xem vÃ  hoÃ n thÃ nh nhiá»‡m vá»¥ Ä‘Æ°á»£c giao
- âœ… Xem phiáº¿u lÆ°Æ¡ng cÃ¡ nhÃ¢n
- âœ… Xem lá»‹ch sá»­ cÃ´ng vÃ  thá»i gian lÃ m viá»‡c
- âœ… Gá»­i khiáº¿u náº¡i

### ğŸ›’ Chá»£ Ca (Shift Marketplace)
- âœ… Staff Ä‘Äƒng nhÆ°á»ng ca (pháº£i Ä‘Äƒng trÆ°á»›c Ã­t nháº¥t 2 giá»)
- âœ… Staff nháº­n ca trá»‘ng tá»« nhÃ¢n viÃªn khÃ¡c
- âœ… YÃªu cáº§u Ä‘á»•i ca giá»¯a nhÃ¢n viÃªn
- âœ… Manager duyá»‡t cÃ¡c giao dá»‹ch Chá»£ Ca
- âœ… ThÃ´ng bÃ¡o realtime khi cÃ³ ca má»›i/Ä‘Æ°á»£c duyá»‡t
- âœ… Lá»‹ch sá»­ giao dá»‹ch Chá»£ Ca

## ğŸ›  CÃ´ng Nghá»‡

### Frontend
- **React 18** - UI Framework
- **TypeScript** - Type safety
- **Redux Toolkit** - State management
- **React Router v6** - Client-side routing
- **Axios** - HTTP client
- **Bootstrap 5** - UI Framework
- **Bootstrap Icons** - Icon library

### Backend
- **Spring Boot 3.2** - Java framework
- **Java 17** - Programming language
- **Spring Security** - Authentication & Authorization
- **JWT (JSON Web Token)** - Token-based authentication
- **Spring Data JPA** - Database ORM
- **MySQL 8** - Relational database
- **Flyway** - Database migration tool
- **BCrypt** - Password encryption
- **Lombok** - Reduce boilerplate code
- **OpenAPI/Swagger** - API documentation
- **Maven** - Build tool

## ğŸ’» YÃªu Cáº§u Há»‡ Thá»‘ng

### Pháº§n Má»m
- **Node.js** 18+ (cho Frontend)
- **Java** 17+ (cho Backend)
- **Maven** 3.8+ (cho Backend)
- **MySQL** 8.0+ (Database)
- **Git** (Ä‘á»ƒ clone repository)

### IDE (TÃ¹y chá»n)
- **VS Code** hoáº·c **IntelliJ IDEA** (khuyáº¿n nghá»‹)
- Extension MySQL cho VS Code (náº¿u dÃ¹ng VS Code)

## ğŸš€ CÃ i Äáº·t

### 1. Clone Repository

```bash
git clone <repository-url>
cd parrtime-staff-management/parttime-staff-management
```

### 2. Thiáº¿t Láº­p Database

#### CÃ¡ch 1: Sá»­ dá»¥ng Flyway (Tá»± Ä‘á»™ng - Khuyáº¿n nghá»‹)

Flyway sáº½ tá»± Ä‘á»™ng táº¡o báº£ng khi cháº¡y Backend. Chá»‰ cáº§n táº¡o database:

```sql
CREATE DATABASE coffee_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

#### CÃ¡ch 2: Cháº¡y SQL thá»§ cÃ´ng

Xem hÆ°á»›ng dáº«n chi tiáº¿t trong [database/README.md](./database/README.md)

```bash
# Sá»­ dá»¥ng VS Code MySQL Extension hoáº·c phpMyAdmin
# Cháº¡y file: database/full_setup.sql
```

### 3. Cáº¥u HÃ¬nh Backend

1. Má»Ÿ file `backend/src/main/resources/application.yml`

2. Cáº­p nháº­t thÃ´ng tin database:

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/coffee_management?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&allowPublicKeyRetrieval=true
    username: ${DB_USERNAME:root}  # Thay Ä‘á»•i náº¿u cáº§n
    password: ${DB_PASSWORD:123456}  # Thay Ä‘á»•i password MySQL cá»§a báº¡n
```

3. Cáº¥u hÃ¬nh JWT Secret (tÃ¹y chá»n):

```yaml
jwt:
  secret: ${JWT_SECRET:mySecretKeyForJWTTokenGenerationThatIsAtLeast256BitsLong123456}
```

Hoáº·c sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng:

```bash
# Windows (CMD)
set DB_USERNAME=root
set DB_PASSWORD=your_password
set JWT_SECRET=your-256-bit-secret-key

# Windows (PowerShell)
$env:DB_USERNAME="root"
$env:DB_PASSWORD="your_password"
$env:JWT_SECRET="your-256-bit-secret-key"

# Linux/Mac
export DB_USERNAME=root
export DB_PASSWORD=your_password
export JWT_SECRET=your-256-bit-secret-key
```

### 4. Cáº¥u HÃ¬nh Frontend

1. Táº¡o file `.env` trong thÆ° má»¥c `frontend/`:

```env
REACT_APP_API_URL=http://localhost:8080/api/v1
```

2. CÃ i Ä‘áº·t dependencies:

```bash
cd frontend
npm install
```

## âš™ï¸ Cáº¥u HÃ¬nh

### Backend Configuration

File: `backend/src/main/resources/application.yml`

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/coffee_management
    username: root
    password: your_password

  flyway:
    enabled: true  # Tá»± Ä‘á»™ng cháº¡y migrations

server:
  port: 8080

jwt:
  secret: your-256-bit-secret-key
  access-token-expiration: 86400000  # 24 hours
  refresh-token-expiration: 604800000  # 7 days

cors:
  allowed-origins: http://localhost:3000,http://localhost:5173
```

### Frontend Configuration

File: `frontend/.env`

```env
REACT_APP_API_URL=http://localhost:8080/api/v1
```

## ğŸƒ Cháº¡y á»¨ng Dá»¥ng

### Cháº¡y Backend

```bash
cd backend

# Build project
mvn clean install

# Cháº¡y á»©ng dá»¥ng
mvn spring-boot:run

# Hoáº·c cháº¡y JAR file
java -jar target/management-1.0.0.jar
```

Backend sáº½ cháº¡y táº¡i: **http://localhost:8080**

### Cháº¡y Frontend

Má»Ÿ terminal má»›i:

```bash
cd frontend

# Cháº¡y development server
npm start
```

Frontend sáº½ cháº¡y táº¡i: **http://localhost:3000**

### Truy Cáº­p á»¨ng Dá»¥ng

- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:8080/api/v1
- **Swagger UI**: http://localhost:8080/swagger-ui.html
- **OpenAPI JSON**: http://localhost:8080/api-docs

## ğŸ‘¥ TÃ i Khoáº£n Demo

Sau khi setup database, báº¡n cÃ³ thá»ƒ Ä‘Äƒng nháº­p vá»›i cÃ¡c tÃ i khoáº£n sau:

| Vai TrÃ² | Username | Password | CÆ¡ Sá»Ÿ | Ghi ChÃº |
|---------|----------|----------|-------|---------|
| **Owner** | `owner` | `password123` | Táº¥t cáº£ | Quyá»n cao nháº¥t |
| **Manager** | `managerA` | `password123` | HoÃ n Kiáº¿m | Quáº£n lÃ½ Store A |
| **Manager** | `managerB` | `password123` | Cáº§u Giáº¥y | Quáº£n lÃ½ Store B |
| **Manager** | `managerC` | `password123` | Äá»‘ng Äa | Quáº£n lÃ½ Store C |
| **Staff** | `staff_a01` | `password123` | HoÃ n Kiáº¿m | NhÃ¢n viÃªn Store A |
| **Staff** | `staff_b01` | `password123` | Cáº§u Giáº¥y | NhÃ¢n viÃªn Store B |
| **Staff** | `staff_c01` | `password123` | Äá»‘ng Äa | NhÃ¢n viÃªn Store C |

**LÆ°u Ã½**: CÃ³ 30 tÃ i khoáº£n Staff (10 nhÃ¢n viÃªn/cÆ¡ sá»Ÿ): `staff_a01` â†’ `staff_a10`, `staff_b01` â†’ `staff_b10`, `staff_c01` â†’ `staff_c10`

## ğŸ“š API Documentation

### Authentication Endpoints

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/v1/auth/login` | ÄÄƒng nháº­p | âŒ |
| POST | `/api/v1/auth/refresh` | Refresh token | âŒ |
| POST | `/api/v1/auth/logout` | ÄÄƒng xuáº¥t | âœ… |

### User Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/users` | Danh sÃ¡ch nhÃ¢n viÃªn | Owner, Manager |
| GET | `/api/v1/users/{id}` | Chi tiáº¿t nhÃ¢n viÃªn | Owner, Manager |
| POST | `/api/v1/users` | Táº¡o nhÃ¢n viÃªn má»›i | Owner, Manager |
| PUT | `/api/v1/users/{id}` | Cáº­p nháº­t nhÃ¢n viÃªn | Owner, Manager |
| DELETE | `/api/v1/users/{id}` | XÃ³a nhÃ¢n viÃªn | Owner |
| GET | `/api/v1/users/profile` | ThÃ´ng tin cÃ¡ nhÃ¢n | All |

### Store Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/stores` | Danh sÃ¡ch cÆ¡ sá»Ÿ | Owner, Manager |
| GET | `/api/v1/stores/{id}` | Chi tiáº¿t cÆ¡ sá»Ÿ | Owner, Manager |
| POST | `/api/v1/stores` | Táº¡o cÆ¡ sá»Ÿ má»›i | Owner |
| PUT | `/api/v1/stores/{id}` | Cáº­p nháº­t cÆ¡ sá»Ÿ | Owner |
| DELETE | `/api/v1/stores/{id}` | XÃ³a cÆ¡ sá»Ÿ | Owner |

### Shift Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/stores/{id}/shifts` | Danh sÃ¡ch ca theo cÆ¡ sá»Ÿ | Manager |
| POST | `/api/v1/stores/{id}/shifts` | Táº¡o ca má»›i | Manager |
| GET | `/api/v1/shifts/{id}` | Chi tiáº¿t ca | Manager, Staff |
| PUT | `/api/v1/shifts/{id}` | Cáº­p nháº­t ca | Manager |
| DELETE | `/api/v1/shifts/{id}` | XÃ³a ca | Manager |
| POST | `/api/v1/shifts/{id}/assign` | PhÃ¢n cÃ´ng nhÃ¢n viÃªn | Manager |
| PUT | `/api/v1/shifts/{id}/assignment` | XÃ¡c nháº­n/tá»« chá»‘i ca | Staff |
| GET | `/api/v1/my-shifts` | Ca lÃ m cá»§a tÃ´i | Staff |

### Marketplace (Chá»£ Ca)

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/marketplace/store/{id}` | Ca Ä‘ang nhÆ°á»ng theo cÆ¡ sá»Ÿ | All |
| GET | `/api/v1/marketplace/my-listings` | Ca tÃ´i Ä‘ang nhÆ°á»ng | Staff |
| POST | `/api/v1/marketplace/give` | ÄÄƒng nhÆ°á»ng ca | Staff |
| POST | `/api/v1/marketplace/claim/{id}` | YÃªu cáº§u nháº­n ca | Staff |
| POST | `/api/v1/marketplace/review/{id}` | Manager duyá»‡t giao dá»‹ch | Manager |
| POST | `/api/v1/marketplace/swap` | YÃªu cáº§u Ä‘á»•i ca | Staff |
| DELETE | `/api/v1/marketplace/{id}` | Há»§y Ä‘Äƒng nhÆ°á»ng ca | Staff |

### Task Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/tasks/store/{id}` | Nhiá»‡m vá»¥ theo cÆ¡ sá»Ÿ | Manager |
| GET | `/api/v1/tasks/my-tasks` | Nhiá»‡m vá»¥ cá»§a tÃ´i | Staff |
| POST | `/api/v1/tasks` | Táº¡o nhiá»‡m vá»¥ | Manager |
| PUT | `/api/v1/tasks/{id}` | Cáº­p nháº­t nhiá»‡m vá»¥ | Manager |
| POST | `/api/v1/tasks/{id}/complete` | HoÃ n thÃ nh nhiá»‡m vá»¥ | Staff |

### Request Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/requests` | Danh sÃ¡ch yÃªu cáº§u | Manager |
| GET | `/api/v1/requests/my-requests` | YÃªu cáº§u cá»§a tÃ´i | Staff |
| POST | `/api/v1/requests` | Táº¡o yÃªu cáº§u | Staff |
| PUT | `/api/v1/requests/{id}/approve` | Duyá»‡t yÃªu cáº§u | Manager |
| PUT | `/api/v1/requests/{id}/reject` | Tá»« chá»‘i yÃªu cáº§u | Manager |

### Payroll Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/payrolls` | Danh sÃ¡ch báº£ng lÆ°Æ¡ng | Owner, Manager |
| GET | `/api/v1/payrolls/{id}` | Chi tiáº¿t báº£ng lÆ°Æ¡ng | Owner, Manager |
| GET | `/api/v1/my-payrolls` | Phiáº¿u lÆ°Æ¡ng cá»§a tÃ´i | Staff |
| POST | `/api/v1/payrolls` | Táº¡o báº£ng lÆ°Æ¡ng | Manager |
| PUT | `/api/v1/payrolls/{id}/approve` | Duyá»‡t báº£ng lÆ°Æ¡ng | Owner |

### Time Log Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| POST | `/api/v1/timelogs/checkin` | Check-in ca lÃ m | Staff |
| POST | `/api/v1/timelogs/checkout` | Check-out ca lÃ m | Staff |
| GET | `/api/v1/timelogs/my-logs` | Lá»‹ch sá»­ cÃ´ng cá»§a tÃ´i | Staff |
| POST | `/api/v1/timelogs/manual` | Cháº¥m cÃ´ng thá»§ cÃ´ng | Manager |

### Notification Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/notifications` | Danh sÃ¡ch thÃ´ng bÃ¡o | All |
| GET | `/api/v1/notifications/unread` | ThÃ´ng bÃ¡o chÆ°a Ä‘á»c | All |
| PUT | `/api/v1/notifications/{id}/read` | ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c | All |
| PUT | `/api/v1/notifications/read-all` | ÄÃ¡nh dáº¥u táº¥t cáº£ Ä‘Ã£ Ä‘á»c | All |

### Report & Ranking

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/reports/payroll` | BÃ¡o cÃ¡o chi phÃ­ nhÃ¢n sá»± | Owner, Manager |
| GET | `/api/v1/reports/attendance` | BÃ¡o cÃ¡o cháº¥m cÃ´ng | Owner, Manager |
| GET | `/api/v1/ranking/employees` | Báº£ng xáº¿p háº¡ng nhÃ¢n viÃªn | Owner, Manager |

### Complaint Management

| Method | Endpoint | Description | Role |
|--------|----------|-------------|------|
| GET | `/api/v1/complaints` | Danh sÃ¡ch khiáº¿u náº¡i | Owner, Manager |
| POST | `/api/v1/complaints` | Táº¡o khiáº¿u náº¡i | Staff |
| PUT | `/api/v1/complaints/{id}/resolve` | Xá»­ lÃ½ khiáº¿u náº¡i | Owner, Manager |

**Xem chi tiáº¿t API táº¡i Swagger UI**: http://localhost:8080/swagger-ui.html

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
parttime-staff-management/
â”œâ”€â”€ backend/                          # Spring Boot Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ main/
â”‚   â”‚       â”œâ”€â”€ java/com/coffee/management/
â”‚   â”‚       â”‚   â”œâ”€â”€ config/           # Spring Configuration
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ CorsConfig.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ OpenApiConfig.java
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ SecurityConfig.java
â”‚   â”‚       â”‚   â”œâ”€â”€ controller/       # REST Controllers (13 files)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ UserController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ StoreController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ShiftController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ MarketplaceController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TaskController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RequestController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ PayrollController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TimeLogController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ NotificationController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ReportController.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ EmployeeRankingController.java
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ComplaintController.java
â”‚   â”‚       â”‚   â”œâ”€â”€ dto/              # Data Transfer Objects (41 files)
â”‚   â”‚       â”‚   â”œâ”€â”€ entity/           # JPA Entities (27 files)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Store.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Shift.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ShiftAssignment.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ShiftMarketplace.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Task.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Request.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Payroll.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TimeLog.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Notification.java
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Complaint.java
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚       â”‚   â”œâ”€â”€ exception/        # Custom Exceptions (5 files)
â”‚   â”‚       â”‚   â”œâ”€â”€ repository/       # JPA Repositories (13 files)
â”‚   â”‚       â”‚   â”œâ”€â”€ security/         # JWT & Security (5 files)
â”‚   â”‚       â”‚   â””â”€â”€ service/          # Business Logic (14 files)
â”‚   â”‚       â””â”€â”€ resources/
â”‚   â”‚           â”œâ”€â”€ db/migration/     # Flyway Migrations
â”‚   â”‚           â”‚   â”œâ”€â”€ V1__init_schema.sql
â”‚   â”‚           â”‚   â”œâ”€â”€ V2__seed_data.sql
â”‚   â”‚           â”‚   â”œâ”€â”€ V3__marketplace_and_tasks.sql
â”‚   â”‚           â”‚   â”œâ”€â”€ V4__sample_marketplace_tasks.sql
â”‚   â”‚           â”‚   â”œâ”€â”€ V5__complaints_table.sql
â”‚   â”‚           â”‚   â”œâ”€â”€ V6__notification_attachments.sql
â”‚   â”‚           â”‚   â””â”€â”€ V7__user_avatar_longtext.sql
â”‚   â”‚           â”œâ”€â”€ application.yml
â”‚   â”‚           â”œâ”€â”€ application-test.yml
â”‚   â”‚           â””â”€â”€ application-manual.yml
â”‚   â”œâ”€â”€ pom.xml
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ frontend/                          # React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                      # API Services
â”‚   â”‚   â”‚   â”œâ”€â”€ axios.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ userService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ storeService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ shiftService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ marketplaceService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ taskService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ requestService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ payrollService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ timeLogService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ notificationService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ reportService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ rankingService.ts
â”‚   â”‚   â”‚   â””â”€â”€ complaintService.ts
â”‚   â”‚   â”œâ”€â”€ app/                      # Redux Store
â”‚   â”‚   â”‚   â””â”€â”€ store.ts
â”‚   â”‚   â”œâ”€â”€ components/               # Reusable Components
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Toast.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ConfirmModal.tsx
â”‚   â”‚   â”œâ”€â”€ features/                 # Redux Slices
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”œâ”€â”€ shifts/
â”‚   â”‚   â”‚   â”œâ”€â”€ marketplace/
â”‚   â”‚   â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”‚   â”œâ”€â”€ requests/
â”‚   â”‚   â”‚   â”œâ”€â”€ payroll/
â”‚   â”‚   â”‚   â”œâ”€â”€ timelog/
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â”‚   â””â”€â”€ complaints/
â”‚   â”‚   â”œâ”€â”€ pages/                    # Page Components
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Users.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Stores.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Shifts.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MyShifts.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Marketplace.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Tasks.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateTaskForStaff.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Requests.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Payrolls.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MyPayroll.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Reports.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeRanking.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Notifications.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Complaints.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Profile.tsx
â”‚   â”‚   â”œâ”€â”€ routes/                   # Route Guards
â”‚   â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx
â”‚   â”‚   â”œâ”€â”€ utils/                    # Utilities
â”‚   â”‚   â”‚   â””â”€â”€ formatters.ts
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ database/                          # Database Scripts
â”‚   â”œâ”€â”€ schema.sql                    # Database schema
â”‚   â”œâ”€â”€ data.sql                      # Sample data
â”‚   â”œâ”€â”€ full_setup.sql                # Complete setup
â”‚   â”œâ”€â”€ setup.sql                     # Database creation only
â”‚   â”œâ”€â”€ init.bat                      # Windows init script
â”‚   â”œâ”€â”€ init.ps1                      # PowerShell init script
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ postman_collection.json           # Postman API Collection
â””â”€â”€ README.md                          # This file
```

## ğŸ”’ Báº£o Máº­t

- âœ… **JWT Authentication** vá»›i Access Token vÃ  Refresh Token
- âœ… **BCrypt Password Encryption** - MÃ£ hÃ³a máº­t kháº©u
- âœ… **Role-based Access Control (RBAC)** - PhÃ¢n quyá»n theo vai trÃ²
- âœ… **CORS Configuration** - Báº£o vá»‡ cross-origin requests
- âœ… **Input Validation** - Kiá»ƒm tra dá»¯ liá»‡u Ä‘áº§u vÃ o
- âœ… **SQL Injection Protection** - Sá»­ dá»¥ng JPA Ä‘á»ƒ trÃ¡nh SQL injection

## ğŸ“ Quy Táº¯c Nghiá»‡p Vá»¥

1. **Ca lÃ m viá»‡c**: 
   - 3 ca/ngÃ y (SÃ¡ng, Chiá»u, Tá»‘i)
   - Má»—i ca tá»‘i Ä‘a 3 nhÃ¢n viÃªn
   - NhÃ¢n viÃªn pháº£i xÃ¡c nháº­n ca Ä‘Æ°á»£c phÃ¢n cÃ´ng

2. **Chá»£ Ca (Marketplace)**:
   - Pháº£i Ä‘Äƒng nhÆ°á»ng ca trÆ°á»›c Ã­t nháº¥t 2 giá»
   - Manager pháº£i duyá»‡t má»i giao dá»‹ch
   - KhÃ´ng thá»ƒ Ä‘á»•i ca khi ca Ä‘Ã£ báº¯t Ä‘áº§u

3. **TÃ­nh lÆ°Æ¡ng**:
   - Dá»±a trÃªn giá» lÃ m viá»‡c thá»±c táº¿ (check-in/check-out)
   - Manager cÃ³ thá»ƒ cháº¥m cÃ´ng thá»§ cÃ´ng
   - Owner pháº£i duyá»‡t báº£ng lÆ°Æ¡ng trÆ°á»›c khi thanh toÃ¡n

4. **YÃªu cáº§u**:
   - Staff gá»­i yÃªu cáº§u nghá»‰/Ä‘á»•i ca
   - Manager duyá»‡t/tá»« chá»‘i yÃªu cáº§u
   - ThÃ´ng bÃ¡o realtime cho cáº£ hai bÃªn

5. **Audit Log**: LÆ°u láº¡i má»i hÃ nh Ä‘á»™ng quan trá»ng (táº¡o, sá»­a, xÃ³a)

## ğŸ› Troubleshooting

### Backend khÃ´ng cháº¡y Ä‘Æ°á»£c

**Lá»—i: Port 8080 Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng**
```bash
# Windows
netstat -ano | findstr :8080
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:8080 | xargs kill -9
```

**Lá»—i: Database connection failed**
- Kiá»ƒm tra MySQL Ä‘Ã£ cháº¡y chÆ°a
- Kiá»ƒm tra username/password trong `application.yml`
- Kiá»ƒm tra database `coffee_management` Ä‘Ã£ táº¡o chÆ°a

**Lá»—i: Flyway migration failed**
- Kiá»ƒm tra database Ä‘Ã£ tá»“n táº¡i chÆ°a
- XÃ³a cÃ¡c báº£ng cÅ© náº¿u cáº§n: `DROP DATABASE coffee_management; CREATE DATABASE coffee_management;`
- Hoáº·c táº¯t Flyway vÃ  cháº¡y SQL thá»§ cÃ´ng

### Frontend khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c Backend

**Lá»—i: Network Error / CORS Error**
- Kiá»ƒm tra Backend Ä‘Ã£ cháº¡y táº¡i `http://localhost:8080`
- Kiá»ƒm tra file `.env` cÃ³ Ä‘Ãºng `REACT_APP_API_URL`
- Kiá»ƒm tra CORS config trong `application.yml`

**Lá»—i: 401 Unauthorized**
- Token Ä‘Ã£ háº¿t háº¡n, Ä‘Äƒng nháº­p láº¡i
- Kiá»ƒm tra token cÃ³ Ä‘Æ°á»£c gá»­i trong header khÃ´ng

### Database Issues

**Lá»—i: Table doesn't exist**
- Cháº¡y láº¡i Flyway migrations hoáº·c SQL scripts
- Kiá»ƒm tra `flyway.enabled: true` trong `application.yml`

**Lá»—i: Character encoding issues**
- Äáº£m báº£o database sá»­ dá»¥ng `utf8mb4` charset
- Kiá»ƒm tra connection string cÃ³ `useUnicode=true&characterEncoding=utf8`

### IDE Warnings (Lombok)

Náº¿u IDE hiá»ƒn thá»‹ nhiá»u warnings vá» Lombok:
- CÃ i Ä‘áº·t Lombok plugin cho IDE
- Enable annotation processing
- Rebuild project

Xem chi tiáº¿t: [backend/IDE_FIX_GUIDE.md](./backend/IDE_FIX_GUIDE.md)

## ğŸ¤ ÄÃ³ng GÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! Äá»ƒ Ä‘Ã³ng gÃ³p:

1. **Fork** dá»± Ã¡n
2. **Táº¡o branch** tÃ­nh nÄƒng (`git checkout -b feature/AmazingFeature`)
3. **Commit** thay Ä‘á»•i (`git commit -m 'Add AmazingFeature'`)
4. **Push** lÃªn branch (`git push origin feature/AmazingFeature`)
5. **Má»Ÿ Pull Request**

### Quy táº¯c Ä‘Ã³ng gÃ³p

- TuÃ¢n thá»§ code style hiá»‡n táº¡i
- Viáº¿t commit message rÃµ rÃ ng
- ThÃªm tests cho tÃ­nh nÄƒng má»›i
- Cáº­p nháº­t documentation náº¿u cáº§n

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t hÃ nh dÆ°á»›i giáº¥y phÃ©p **MIT License**.

## ğŸ‘¨â€ğŸ’» TÃ¡c Giáº£

XÃ¢y dá»±ng bá»Ÿi â¤ï¸ cho cá»™ng Ä‘á»“ng

---

**Coffee House Management System** - Há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n viÃªn bÃ¡n thá»i gian chuyÃªn nghiá»‡p

ğŸ“§ **LiÃªn há»‡**: [ThÃªm thÃ´ng tin liÃªn há»‡ náº¿u cáº§n]

ğŸ”— **Repository**: [ThÃªm link repository náº¿u cÃ³]
